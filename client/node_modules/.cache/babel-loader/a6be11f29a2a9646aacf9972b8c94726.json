{"remainingRequest":"D:\\demoVue\\client\\node_modules\\babel-loader\\lib\\index.js!D:\\demoVue\\client\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\demoVue\\client\\src\\utils\\request.js","dependencies":[{"path":"D:\\demoVue\\client\\src\\utils\\request.js","mtime":1591773857991},{"path":"D:\\demoVue\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1591779670965},{"path":"D:\\demoVue\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1591779670793},{"path":"D:\\demoVue\\client\\node_modules\\eslint-loader\\index.js","mtime":1591779709804}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CnZhciBUb2tlbktleSA9ICdFQS1BdXRoLVRva2VuJzsgLy8g5Yib5bu6YXhpb3Plrp7kvosKCnZhciBzZXJ2aWNlID0gYXhpb3MuY3JlYXRlKHsKICBiYXNlVVJMOiBwcm9jZXNzLmVudi5WVUVfQVBQX1NFUlZFUl9VUkwsCiAgLy8gYXBpIOeahCBiYXNlX3VybAogIHRpbWVvdXQ6IDUwMDAgLy8g6K+35rGC6LaF5pe25pe26Ze0Cgp9KTsgLy8gcmVxdWVzdOaLpuaIquWZqAoKc2VydmljZS5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIGlmICghY29uZmlnLmhlYWRlcnNbJ0NvbnRlbnQtVHlwZSddKSB7CiAgICBjb25maWcuaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7CiAgfQoKICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oVG9rZW5LZXkpICYmIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oVG9rZW5LZXkpKS5hY2Nlc3NfdG9rZW4pIHsKICAgIGNvbmZpZy5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSAiQmVhcmVyICIuY29uY2F0KEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oVG9rZW5LZXkpKS5hY2Nlc3NfdG9rZW4pOyAvLyDorqnmr4/kuKror7fmsYLmkLrluKboh6rlrprkuYl0b2tlbiDor7fmoLnmja7lrp7pmYXmg4XlhrXoh6rooYzkv67mlLkKICB9CgogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIC8vIERvIHNvbWV0aGluZyB3aXRoIHJlcXVlc3QgZXJyb3IKICBjb25zb2xlLmxvZyhlcnJvcik7IC8vIGZvciBkZWJ1ZwoKICBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOyAvLyByZXNwb25zZSDmi6bmiKrlmagKCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAvKioKICAgKiBzdGF0dXPkuLrpnZ4yMDDmmK/mipvplJkg5Y+v57uT5ZCI6Ieq5bex5Lia5Yqh6L+b6KGM5L+u5pS5CiAgICovCiAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgMzAwKSB7CiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTsKICB9IGVsc2UgewogICAgdmFyIGVycm9yID0gbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpOwogICAgZXJyb3IucmVzcG9uc2UgPSByZXNwb25zZTsKICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKICB9Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIGNvbnNvbGUubG9nKCdpbiBlcnIgOicgKyBlcnJvcik7IC8vIGZvciBkZWJ1ZwoKICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwp9KTsKZXhwb3J0IGRlZmF1bHQgc2VydmljZTs="},{"version":3,"sources":["D:/demoVue/client/src/utils/request.js"],"names":["axios","TokenKey","service","create","baseURL","process","env","VUE_APP_SERVER_URL","timeout","interceptors","request","use","config","headers","localStorage","getItem","JSON","parse","access_token","error","console","log","Promise","reject","response","status","data","Error","statusText"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,QAAQ,GAAG,eAAjB,C,CACA;;AACA,IAAMC,OAAO,GAAGF,KAAK,CAACG,MAAN,CAAa;AACzBC,EAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,kBADI;AACgB;AACzCC,EAAAA,OAAO,EAAE,IAFgB,CAEX;;AAFW,CAAb,CAAhB,C,CAKA;;AACAN,OAAO,CAACO,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CAAiC,UAAAC,MAAM,EAAI;AACnC,MAAI,CAACA,MAAM,CAACC,OAAP,CAAe,cAAf,CAAL,EAAqC;AACjCD,IAAAA,MAAM,CAACC,OAAP,CAAe,cAAf,IAAiC,kBAAjC;AACH;;AACD,MAAIC,YAAY,CAACC,OAAb,CAAqBd,QAArB,KAAkCe,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqBd,QAArB,CAAX,EAA2CiB,YAAjF,EAA+F;AAC3FN,IAAAA,MAAM,CAACC,OAAP,CAAe,eAAf,qBAA4CG,IAAI,CAACC,KAAL,CAAWH,YAAY,CAACC,OAAb,CAAqBd,QAArB,CAAX,EAA2CiB,YAAvF,EAD2F,CACW;AACzG;;AACD,SAAON,MAAP;AACH,CARL,EASI,UAAAO,KAAK,EAAI;AACL;AACAC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,EAFK,CAEc;;AACnBG,EAAAA,OAAO,CAACC,MAAR,CAAeJ,KAAf;AACH,CAbL,E,CAeA;;AACAjB,OAAO,CAACO,YAAR,CAAqBe,QAArB,CAA8Bb,GAA9B,CAAkC,UAAAa,QAAQ,EAAI;AACtC;;;AAGA,MAAIA,QAAQ,CAACC,MAAT,IAAmB,GAAnB,IAA0BD,QAAQ,CAACC,MAAT,GAAkB,GAAhD,EAAqD;AACjD,WAAOD,QAAQ,CAACE,IAAhB;AACH,GAFD,MAEO;AACH,QAAIP,KAAK,GAAG,IAAIQ,KAAJ,CAAUH,QAAQ,CAACI,UAAnB,CAAZ;AACAT,IAAAA,KAAK,CAACK,QAAN,GAAiBA,QAAjB;AACAJ,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACA,WAAOG,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACH;AACJ,CAZL,EAaI,UAAAA,KAAK,EAAI;AACLC,EAAAA,OAAO,CAACC,GAAR,CAAY,aAAaF,KAAzB,EADK,CAC2B;;AAChC,SAAOG,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACH,CAhBL;AAkBA,eAAejB,OAAf","sourcesContent":["import axios from 'axios'\n\nconst TokenKey = 'EA-Auth-Token'\n// 创建axios实例\nconst service = axios.create({\n    baseURL: process.env.VUE_APP_SERVER_URL, // api 的 base_url\n    timeout: 5000 // 请求超时时间\n})\n\n// request拦截器\nservice.interceptors.request.use(config => {\n        if (!config.headers['Content-Type']) {\n            config.headers['Content-Type'] = 'application/json'\n        }\n        if (localStorage.getItem(TokenKey) && JSON.parse(localStorage.getItem(TokenKey)).access_token) {\n            config.headers['Authorization'] = `Bearer ${JSON.parse(localStorage.getItem(TokenKey)).access_token}` // 让每个请求携带自定义token 请根据实际情况自行修改\n        }\n        return config\n    },\n    error => {\n        // Do something with request error\n        console.log(error) // for debug\n        Promise.reject(error)\n    })\n\n// response 拦截器\nservice.interceptors.response.use(response => {\n        /**\n         * status为非200是抛错 可结合自己业务进行修改\n         */\n        if (response.status >= 200 && response.status < 300) {\n            return response.data\n        } else {\n            let error = new Error(response.statusText)\n            error.response = response\n            console.error(error)\n            return Promise.reject(error)\n        }\n    },\n    error => {\n        console.log('in err :' + error) // for debug\n        return Promise.reject(error)\n    })\n\nexport default service\n"]}]}