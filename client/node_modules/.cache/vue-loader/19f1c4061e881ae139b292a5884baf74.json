{"remainingRequest":"D:\\demoVue\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\demoVue\\client\\src\\components\\Welcome.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\demoVue\\client\\src\\components\\Welcome.vue","mtime":1591773857990},{"path":"D:\\demoVue\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1591779670965},{"path":"D:\\demoVue\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1591779670793},{"path":"D:\\demoVue\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1591779670965},{"path":"D:\\demoVue\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1591779714748}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBNYWluTGF5b3V0IGZyb20gJy4vbGF5b3V0cy9NYWluLnZ1ZScKaW1wb3J0IHJlcXVlc3QgZnJvbSAnQC91dGlscy9yZXF1ZXN0JwppbXBvcnQgcXVlcnlTdHJpbmcgZnJvbSAncXVlcnktc3RyaW5nJwoKY29uc3QgVG9rZW5LZXkgPSAnRUEtQXV0aC1Ub2tlbicKZXhwb3J0IGRlZmF1bHQgewogICAgY29tcG9uZW50czogewogICAgICAgIE1haW5MYXlvdXQKICAgIH0sCiAgICBuYW1lOiAnV2VsY29tZScsCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIG1zZzogJ1dlbGNvbWUgdG8gWW91ciBFQSAmIFZ1ZS5qcyBBcHAnLAogICAgICAgICAgICBhdXRoOiBudWxsLAogICAgICAgICAgICBzZXJ2ZXJJbmZvOiBudWxsLAogICAgICAgICAgICBzaG93TGlua3M6IGZhbHNlLAogICAgICAgICAgICBzZXJ2ZXJVUkw6IHByb2Nlc3MuZW52LlNFUlZFUl9VUkwKICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIHRvZ2dsZUxpbmtzOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHRoaXMuc2hvd0xpbmtzID0gIXRoaXMuJGRhdGEuc2hvd0xpbmtzCiAgICAgICAgfSwKICAgICAgICBsb2dpbjogZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXF1ZXN0KHsKICAgICAgICAgICAgICAgIHVybDogJy9hcGkvbG9naW4nLAogICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh7dXNlcm5hbWU6ICd1c2VyJywgcGFzc3dvcmQ6ICd1c2VyJ30pCiAgICAgICAgICAgIH0pLnRoZW4oanNvbiA9PiB7CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShUb2tlbktleSwgSlNPTi5zdHJpbmdpZnkoanNvbikpCiAgICAgICAgICAgICAgICB0aGlzLmZldGNoSW5mbygpCiAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpKQogICAgICAgIH0sCiAgICAgICAgcmVmcmVzaFRva2VuOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJlcXVlc3QoewogICAgICAgICAgICAgICAgdXJsOiAnL29hdXRoL2FjY2Vzc190b2tlbicsCiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04J30sCiAgICAgICAgICAgICAgICBkYXRhOiBxdWVyeVN0cmluZy5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgICdncmFudF90eXBlJzogJ3JlZnJlc2hfdG9rZW4nLAogICAgICAgICAgICAgICAgICAgICdyZWZyZXNoX3Rva2VuJzogSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShUb2tlbktleSkpLnJlZnJlc2hfdG9rZW4KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pLnRoZW4oanNvbiA9PiB7CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShUb2tlbktleSwgSlNPTi5zdHJpbmdpZnkoanNvbikpCiAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpKQogICAgICAgIH0sCiAgICAgICAgZmV0Y2hJbmZvOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJlcXVlc3QoewogICAgICAgICAgICAgICAgdXJsOiAnL2FwcGxpY2F0aW9uL2luZGV4JywKICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLAogICAgICAgICAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkoe30pCiAgICAgICAgICAgIH0pLnRoZW4oanNvbiA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLnNlcnZlckluZm8gPSBqc29uCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNlcnZlckluZm8pCiAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IGNvbnNvbGUubG9nKGVycm9yLm1lc3NhZ2UpKQogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5sb2dpbigpCiAgICB9LAogICAgbW91bnRlZDogZnVuY3Rpb24gKCkgewogICAgICAgIC8vIHRoaXMubG9naW4oKQogICAgfQp9Cg=="},{"version":3,"sources":["Welcome.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Welcome.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <main-layout>\n        <div id=\"content\" role=\"main\" style=\"text-align: center\">\n            <section class=\"row colset-2-its\">\n                <h1>Welcome</h1>\n                <div class=\"navbar-collapse collapse\" aria-expanded=\"false\">\n                    <ul class=\"nav navbar-nav \">\n                        <dropdown tag=\"li\">\n                            <btn type=\"primary\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\"\n                                 aria-haspopup=\"true\"\n                                 aria-expanded=\"false\">Server info <span class=\"caret\"></span></btn>\n                            <template slot=\"dropdown\">\n                                <li v-if=\"serverInfo\"><a href=\"#\">OS name: {{serverInfo['os.name']}}</a></li>\n                                <li role=\"separator\" class=\"divider\"></li>\n                                <li v-if=\"serverInfo\"><a href=\"#\">OS version: {{serverInfo['os.version']}}</a></li>\n                                <li role=\"separator\" class=\"divider\"></li>\n                                <li v-if=\"serverInfo\"><a href=\"#\">JVM name:\n                                    {{serverInfo['java.vm.specification.vendor']}}</a></li>\n                                <li role=\"separator\" class=\"divider\"></li>\n                                <li v-if=\"serverInfo\"><a href=\"#\">JVM version: {{serverInfo['java.version']}}</a></li>\n                                <li role=\"separator\" class=\"divider\"></li>\n                            </template>\n                        </dropdown>\n                        <dropdown tag=\"li\">\n                            <btn type=\"primary\" class=\"dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\"\n                                 aria-haspopup=\"true\"\n                                 aria-expanded=\"false\">Component <span class=\"caret\"></span></btn>\n                            <template slot=\"dropdown\" v-if=\"serverInfo\">\n                                <li v-if=\"serverInfo.artefacts\"><a href=\"#\">Controllers:\n                                    {{serverInfo.artefacts.controllers}}</a></li>\n                                <li v-if=\"serverInfo.artefacts\"><a href=\"#\">Domains:\n                                    {{serverInfo.artefacts.domains}}</a></li>\n                                <li v-if=\"serverInfo.artefacts\"><a href=\"#\">Services:\n                                    {{serverInfo.artefacts.services}}</a></li>\n                            </template>\n                        </dropdown>\n                    </ul>\n                </div>\n                <p>\n                    EA & Vue.js application!\n                </p>\n                <button v-on:click=\"refreshToken\">refresh token</button>\n            </section>\n        </div>\n    </main-layout>\n</template>\n\n<script>\n    import MainLayout from './layouts/Main.vue'\n    import request from '@/utils/request'\n    import queryString from 'query-string'\n\n    const TokenKey = 'EA-Auth-Token'\n    export default {\n        components: {\n            MainLayout\n        },\n        name: 'Welcome',\n        data() {\n            return {\n                msg: 'Welcome to Your EA & Vue.js App',\n                auth: null,\n                serverInfo: null,\n                showLinks: false,\n                serverURL: process.env.SERVER_URL\n            }\n        },\n        methods: {\n            toggleLinks: function () {\n                this.showLinks = !this.$data.showLinks\n            },\n            login: function () {\n                request({\n                    url: '/api/login',\n                    method: 'POST',\n                    data: JSON.stringify({username: 'user', password: 'user'})\n                }).then(json => {\n                    localStorage.setItem(TokenKey, JSON.stringify(json))\n                    this.fetchInfo()\n                }).catch(error => console.log(error.message))\n            },\n            refreshToken: function () {\n                request({\n                    url: '/oauth/access_token',\n                    method: 'POST',\n                    headers: {'Content-Type': 'application/x-www-form-urlencoded;charset=UTF-8'},\n                    data: queryString.stringify({\n                        'grant_type': 'refresh_token',\n                        'refresh_token': JSON.parse(localStorage.getItem(TokenKey)).refresh_token\n                    })\n                }).then(json => {\n                    localStorage.setItem(TokenKey, JSON.stringify(json))\n                }).catch(error => console.log(error.message))\n            },\n            fetchInfo: function () {\n                request({\n                    url: '/application/index',\n                    method: 'POST',\n                    data: JSON.stringify({})\n                }).then(json => {\n                    this.serverInfo = json\n                    console.log(this.serverInfo)\n                }).catch(error => console.log(error.message))\n            }\n        },\n        created: function () {\n            this.login()\n        },\n        mounted: function () {\n            // this.login()\n        }\n    }\n</script>\n"]}]}